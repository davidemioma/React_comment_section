(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{11:function(e,t,n){e.exports={comments:"comments_comments__V_uPf"}},2:function(e,t,n){e.exports={comment:"comment_comment__3DHk7",body:"comment_body__XlyKC",content:"comment_content__eZSKg",profile:"comment_profile__1wkJy",you:"comment_you__fihSQ",scores:"comment_scores__3oTpl",mobile:"comment_mobile__3iO70",desktop:"comment_desktop__ofiiH",reply:"comment_reply__CxT50",edit:"comment_edit__xMKBQ",delete:"comment_delete__2XZBH",btm:"comment_btm__1YftK",replies:"comment_replies__2AblJ",replyList:"comment_replyList__1jW1u"}},20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var s=n(4),a=n.n(s),r=n(3),c=n(6),i=n(5),o=Object(c.b)({name:"comments",initialState:{currentUser:i.b,comments:i.a,activeComment:null},reducers:{setCommentToActive:function(e,t){e.activeComment=t.payload},addComment:function(e,t){var n=t.payload;e.comments.find((function(e){return e.id===n.id}))||e.comments.unshift(n)},deleteComment:function(e,t){var n=t.payload;e.comments.find((function(e){return e.id===n}))&&(e.comments=e.comments.filter((function(e){return e.id!==n})))},editComment:function(e,t){var n=t.payload,s=e.comments.findIndex((function(e){return e.id===n.id}));e.comments[s]&&(e.comments[s]=n)}}}),m=Object(c.a)({reducer:{comments:o.reducer}}),l=o.actions,d=m,u=(n(20),n(1)),p=n(11),b=n.n(p),j=n(2),g=n.n(j),f=n(12),h=n(7),v=n.n(h),O=n(0);var x=function(e){var t=Object(r.c)((function(e){return e.comments.currentUser})),n=Object(u.useState)(e.default),s=Object(f.a)(n,2),a=s[0],c=s[1];return Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==a&&(e.handleSubmit(a),c(""))},className:v.a.form,children:[Object(O.jsx)("div",{className:v.a.top,children:Object(O.jsx)("textarea",{value:a,rows:"5",placeholder:"Add a comment...",onChange:function(e){c(e.target.value)}})}),Object(O.jsxs)("div",{className:v.a.btm,children:[Object(O.jsx)("img",{src:t.image.png,alt:""}),Object(O.jsx)("button",{disabled:0===a.length,children:e.task})]})]})};var y=function e(t){var n=Object(r.c)((function(e){return e.comments.currentUser})),s=Object(r.c)((function(e){return e.comments.activeComment})),a=s&&s.id===t.id&&"replying"===s.type,c=s&&s.id===t.id&&"editing"===s.type,i=new Date-new Date(t.createdAt)>3e5,o=new Date(t.createdAt).toLocaleDateString(),m=Object(r.b)(),d=function(){m(l.deleteComment(t.id)),m(l.setCommentToActive(null))},u=function(){m(l.setCommentToActive({id:t.id,type:"replying"}))},p=function(){m(l.setCommentToActive({id:t.id,type:"editing"}))};return Object(O.jsxs)("li",{children:[Object(O.jsxs)("div",{className:g.a.comment,children:[Object(O.jsxs)("div",{className:g.a.body,children:[Object(O.jsxs)("div",{className:g.a.content,children:[Object(O.jsxs)("div",{className:g.a.profile,children:[Object(O.jsx)("img",{src:t.image,alt:""}),Object(O.jsx)("span",{children:t.username}),n.username===t.username?Object(O.jsx)("span",{className:g.a.you,children:"You"}):"",Object(O.jsx)("p",{children:o})]}),Object(O.jsxs)("div",{className:g.a.desktop,children:[Object(O.jsxs)("button",{onClick:u,className:g.a.reply,children:[Object(O.jsx)("img",{src:"/static/assets/icon-reply.svg",alt:""})," Reply"]}),n.username===t.username&&!i&&Object(O.jsxs)("button",{onClick:d,className:g.a.delete,children:[Object(O.jsx)("img",{src:"/static/assets/icon-delete.svg",alt:""}),"Delete"]}),n.username===t.username&&!i&&Object(O.jsxs)("button",{onClick:p,className:g.a.edit,children:[Object(O.jsx)("img",{src:"/static/assets/icon-edit.svg",alt:""}),"Edit"]})]})]}),Object(O.jsxs)("p",{children:[t.replyingTo&&Object(O.jsxs)("span",{children:["@",t.replyingTo]}),t.content]})]}),Object(O.jsxs)("div",{className:g.a.btm,children:[Object(O.jsxs)("div",{className:g.a.scores,children:[Object(O.jsx)("button",{children:"+"}),Object(O.jsx)("p",{children:t.score}),Object(O.jsx)("button",{children:"-"})]}),Object(O.jsxs)("div",{className:g.a.mobile,children:[Object(O.jsxs)("button",{onClick:u,className:g.a.reply,children:[Object(O.jsx)("img",{src:"/static/assets/icon-reply.svg",alt:""})," Reply"]}),n.username===t.username&&!i&&Object(O.jsxs)("button",{onClick:d,className:g.a.delete,children:[Object(O.jsx)("img",{src:"/static/assets/icon-delete.svg",alt:""}),"Delete"]}),n.username===t.username&&!i&&Object(O.jsxs)("button",{onClick:p,className:g.a.edit,children:[Object(O.jsx)("img",{src:"/static/assets/icon-edit.svg",alt:""}),"Edit"]})]})]})]}),a&&Object(O.jsx)(x,{task:"reply",handleSubmit:function(e){var s={id:Math.random().toString(36).substr(9),content:e,createdAt:(new Date).toISOString(),score:Math.floor(101*Math.random()).toString(),parentId:t.parentId?t.parentId:t.id,replyingTo:t.username,user:{image:{png:n.image.png,webp:n.image.webp},username:n.username}};m(l.addComment(s)),m(l.setCommentToActive(null))},default:""}),c&&Object(O.jsx)(x,{task:"update",handleSubmit:function(e){var s={id:t.id,content:e,createdAt:t.createdAt,score:t.score,parentId:t.parentId?t.parentId:t.id,replyingTo:t.username,user:{image:{png:n.image.png,webp:n.image.webp},username:n.username}};m(l.editComment(s)),m(l.setCommentToActive(null))},default:t.content}),t.replies.length>0&&Object(O.jsx)("div",{className:g.a.replies,children:Object(O.jsx)("ul",{className:g.a.replyList,children:t.replies.map((function(t){return Object(O.jsx)(e,{id:t.id,image:t.user.image.png,username:t.user.username,createdAt:t.createdAt,replyingTo:t.replyingTo||"",content:t.content,score:t.score,parentId:t.parentId,replies:[]},t.id)}))})})]})};var _=function(){var e=Object(r.c)((function(e){return e.comments.comments}));console.log(e);var t=Object(r.c)((function(e){return e.comments.currentUser})),n=Object(r.b)(),s=e.filter((function(e){return null===e.parentId}));return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("ul",{className:b.a.comments,children:s.map((function(t){return Object(O.jsx)(y,{id:t.id,image:t.user.image.png,username:t.user.username,createdAt:t.createdAt,replyingTo:t.replyingTo||"",content:t.content,score:t.score,parentId:t.parentId,replies:(n=t.id,e.filter((function(e){return e.parentId===n})).sort((function(e,t){return new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()})))},t.id);var n}))}),Object(O.jsx)(x,{task:"send",handleSubmit:function(e){var s={id:Math.random().toString(36).substr(9),content:e,createdAt:(new Date).toISOString(),score:Math.floor(101*Math.random()).toString(),parentId:null,user:{image:{png:t.image.png,webp:t.image.webp},username:t.username}};n(l.addComment(s)),n(l.setCommentToActive(null))},default:""})]})};var w=function(){return Object(O.jsx)(u.Fragment,{children:Object(O.jsx)(_,{})})};a.a.render(Object(O.jsx)(r.a,{store:d,children:Object(O.jsx)(w,{})}),document.getElementById("root"))},5:function(e){e.exports=JSON.parse('{"b":{"image":{"png":"/static/assets/avatars/image-juliusomo.png","webp":"/static/assets/avatars/image-juliusomo.webp"},"username":"juliusomo"},"a":[{"id":1,"content":"Impressive! Though it seems the drag feature could be improved. But overall it looks incredible. You\'ve nailed the design and the responsiveness at various breakpoints works really well.","createdAt":"2022-01-16T23:00:33.010+02:00","score":12,"parentId":null,"user":{"image":{"png":"/static/assets/avatars/image-amyrobson.png","webp":"/static/assets/avatars/image-amyrobson.webp"},"username":"amyrobson"}},{"id":2,"content":"Woah, your project looks awesome! How long have you been coding for? I\'m still new, but think I want to dive into React as well soon. Perhaps you can give me an insight on where I can learn React? Thanks!","createdAt":"2022-01-12T23:00:33.010+02:00","score":5,"parentId":null,"user":{"image":{"png":"/static/assets/avatars/image-maxblagun.png","webp":"/static/assets/avatars/image-maxblagun.webp"},"username":"maxblagun"}},{"id":3,"content":"If you\'re still new, I\'d recommend focusing on the fundamentals of HTML, CSS, and JS before considering React. It\'s very tempting to jump ahead but lay a solid foundation first.","createdAt":"2021-08-16T23:00:33.010+02:00","score":4,"parentId":1,"replyingTo":"amyrobson","user":{"image":{"png":"/static/assets/avatars/image-ramsesmiron.png","webp":"/static/assets/avatars/image-ramsesmiron.webp"},"username":"ramsesmiron"}},{"id":4,"content":"I couldn\'t agree more with this. Everything moves so fast and it always seems like everyone knows the newest library/framework. But the fundamentals are what stay constant.","createdAt":"2021-02-11T20:00:33.010+02:00","score":2,"parentId":2,"replyingTo":"maxblagun","user":{"image":{"png":"/static/assets/avatars/image-juliusomo.png","webp":"/static/assets/avatars/image-juliusomo.webp"},"username":"juliusomo"}}]}')},7:function(e,t,n){e.exports={form:"Form_form__cvyS-",top:"Form_top__DxY-f",btnTop:"Form_btnTop__2k4ce",btm:"Form_btm__129eJ"}}},[[22,1,2]]]);
//# sourceMappingURL=main.d7e31f2a.chunk.js.map